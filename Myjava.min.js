    $(document).ready(function () {
      // Function to get the value of a URL parameter
      $.urlParam = function (name) {
        var results = new RegExp('[?&]' + name + '=([^&#]*)').exec(window.location.href);
        return results ? decodeURIComponent(results[1]) : null;
      };

      // Decrypt and embed content
      function embedDecryptedContent() {
        var encryptedParam = $.urlParam('o'); // Get the encrypted 'o' parameter from the URL
        console.log("Extracted 'o' parameter:", encryptedParam); // Debugging log

        if (encryptedParam) {
          try {
            var decryptedHTML = aesCrypto.decrypt(convertstr(encryptedParam), convertstr('root'));
            if (decryptedHTML) {
              $('#btngetlink').html(decryptedHTML).removeClass('d-none'); // Show decrypted content inside the button
            } else {
              console.error('Decryption returned empty content.');
              alert('Failed to decrypt the content. Please check the URL parameter.');
            }
          } catch (error) {
            console.error('Decryption error:', error);
            alert('An error occurred while decrypting the content.');
          }
        } else {
          console.warn('The "o" parameter is missing or invalid.');
        }
      }

      // Run function on page load
      embedDecryptedContent();
    });

window.onload = function() {
    var key = "your-secret-key"; // Same key used for encryption
    var encryptedData = window.location.pathname.split("/safelink/")[1]; // Extract encoded URL

    if (encryptedData) {
        var originalUrl = aesCrypto.decrypt(decodeURIComponent(encryptedData), key);
        if (originalUrl) {
            window.location.href = originalUrl; // Redirect to the real link
        }
    }
};
